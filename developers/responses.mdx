---
title: "Response Format"
description: "Learn how the Pandabase API structures responses and handles errors."
---

## Response Structure

All Pandabase API responses follow a consistent format that includes an `ok` field to indicate success or failure.

### Success Response

When a request succeeds, the API returns `ok: true` along with the requested data:

```json
{
  "ok": true,
  "data": {
    // Your requested data here
  }
}
```

**Response Fields:**

<ResponseField name="ok" type="boolean" required>
  Always `true` for successful requests
</ResponseField>

<ResponseField name="data" type="object" required>
  The requested resource or response data. The structure varies by endpoint.
</ResponseField>

### Error Response

When a request fails, the API returns `ok: false` along with error details:

```json
{
  "ok": false,
  "error": {
    "code": "error_code",
    "message": "Human-readable error message"
  }
}
```

**Response Fields:**

<ResponseField name="ok" type="boolean" required>
  Always `false` for failed requests
</ResponseField>

<ResponseField name="error" type="object" required>
  Error details containing code and message

  <ResponseField name="code" type="string" required>
    Machine-readable error code (e.g., `invalid_request`, `not_found`, `rate_limit_exceeded`)
  </ResponseField>

  <ResponseField name="message" type="string" required>
    Human-readable error message explaining what went wrong
  </ResponseField>
</ResponseField>

<Note>
Error messages are designed to not contain sensitive information and can be safely displayed in user interfaces.
</Note>

## HTTP Status Codes

The API uses standard HTTP status codes to indicate the general category of response:

| Status Code | Description |
|-------------|-------------|
| `200` | **OK** - Request succeeded |
| `201` | **Created** - Resource created successfully |
| `400` | **Bad Request** - Invalid request parameters |
| `401` | **Unauthorized** - Missing or invalid authentication |
| `403` | **Forbidden** - Authenticated but lacks permission |
| `404` | **Not Found** - Resource doesn't exist |
| `409` | **Conflict** - Request conflicts with current state |
| `422` | **Unprocessable Entity** - Validation error |
| `429` | **Too Many Requests** - Rate limit exceeded |
| `500` | **Internal Server Error** - Server error |
| `503` | **Service Unavailable** - Temporary service interruption |

## Common Error Codes

Here are some common error codes you may encounter:

| Error Code | HTTP Status | Description |
|------------|-------------|-------------|
| `invalid_request` | 400 | The request was malformed or missing required parameters |
| `authentication_required` | 401 | Valid authentication credentials are required |
| `invalid_api_key` | 401 | The provided API key is invalid or expired |
| `insufficient_permissions` | 403 | Your account doesn't have permission for this action |
| `not_found` | 404 | The requested resource doesn't exist |
| `resource_already_exists` | 409 | A resource with this identifier already exists |
| `validation_error` | 422 | One or more fields failed validation |
| `rate_limit_exceeded` | 429 | Too many requests, please slow down |
| `internal_error` | 500 | An unexpected error occurred on our servers |

## Example Responses

### Successful GET Request

```json
{
  "ok": true,
  "data": {
    "id": "pmnt_1234567890",
    "amount": 1000,
    "currency": "USD",
    "status": "succeeded",
    "created_at": "2024-12-25T10:00:00Z"
  }
}
```

### Successful POST Request

```json
{
  "ok": true,
  "data": {
    "id": "prod_abc123",
    "name": "Premium Plan",
    "price": 2999,
    "created_at": "2024-12-25T10:00:00Z"
  }
}
```

### Validation Error

```json
{
  "ok": false,
  "error": {
    "code": "validation_error",
    "message": "The 'email' field is required and must be a valid email address."
  }
}
```

### Not Found Error

```json
{
  "ok": false,
  "error": {
    "code": "not_found",
    "message": "The requested payment could not be found."
  }
}
```

### Rate Limit Error

```json
{
  "ok": false,
  "error": {
    "code": "rate_limit_exceeded",
    "message": "Rate limit exceeded. Please retry after the reset time."
  }
}
```

## Handling Responses

Always check the `ok` field to determine if a request succeeded:

```javascript
const response = await fetch('https://pandabase.io/api/payments', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer sk_v3_xxx',
    'Content-Type': 'application/json'
  }
});

const result = await response.json();

if (result.ok) {
  // Success - use result.data
  console.log('Payment:', result.data);
} else {
  // Error - handle result.error
  console.error(`Error ${result.error.code}: ${result.error.message}`);
}
```

<Tip>
Use the `X-Request-Id` header from the response when reporting issues to support. This helps us quickly identify and resolve problems.
</Tip>